---
title: "Prvá uká¾ka R"
output: html_document
---

# Ako chutí R

Kým zaènete písa» R, urobíme nieèo jednoduché, aby ste mali predstavu, kade povedú na¹e ïal¹ie kroky. 

## R notebook
Nacházame sa v R notebooku. Notebook pozostáva 

* z blokov textu, ako je tento, s Markdown formátovaním

* z blokov kódu, ohranièených troma *backtickmi*. *Backtick* je opaèný apostrof a na anglickej klávesnici sa nachádza na klávese *;* hned pod Esc. *Nie je to apostrof!*

* z blokov výstupu, obsahujúcich textový a grafický výstup kódu z predchádzajúceho poµa. 

Kód v poli vykonáme stlaèením __Ctrl-Shift-Enter__ alebo kliknutím na zelený trojuholníèek (*Run current chunk*) vpravo hore v poli kódu.

Kliknutím na __Preview__ na hornom paneli okna (alebo stlaèením __Ctrl-Shift-K__) sa zobrazí vyrendrovaná html stránka s kódom a v¹etkými výstupmi.

```{r}
plot(cars)
```

## Uká¾kové dátové súbory v R

Zjavne sme nieèo nakreslili, ale èo je `cars`?

Je to uká¾kový dátový súbor, ktorý máte k dispozícii spolu so záklanými balíèkami pri spustení R. 

__Recept__ Keï v R nieèo stretnem a neviem èo to je, prvá vec, ktorú skúsim, je `help(cars)`, __Ctrl-Shift-Enter__ a kuk doprava, výsledok sa zobrazí v pravom dolnom okne. Ak niè nevidíte, kliknite na zálo¾ku *Help*.

Aha, tak¾e mám výsledky merania brzdnej dráhy v závislosti od poèiatoènej rýchlosti vozidla spred 100 rokov. V¹imnite si, ako help dokumentuje obsah polí. 

Poïme sa pozrie», ako vyzerajú na¹e dáta:

```{r}
head(cars)
```
`head` preto, lebo nám staèí hlavièka a niekoµko prvých riadkov. 

## R data frame

Vidíme tabuµku, vieme, ¾e má 50 riadkov a 3 ståpce. 

* Ståpec úplne vµavo nemá meno a volá sa *index*, slú¾i na jednoznaèné oznaèenie riadkov v tabuµke. 
* *Riadky* zodpovedajú jednotlivým prípadom, pacientom, vzorkám. 
* *Ståpce* zodpovedajú vlastnostiam prípadov, pacientov, vzoriek.

Toto je typický spôsob usporiadania dát pre ¹tatistickú analýzu (nielen v R) a spotrebujeme dos» èasu, aby sme sa nauèili svoje dáta takto usporiada». 

## Aká to je závislos»?

Tak máme nejaké dáta, a èo to je za závislos»? 

```{r}
plot(cars)
```

__Úloha:__: Ako ulo¾íme obrázok do súboru? Spýtajte sa Googlu.

*Tip*: Ak sa notebook zaène chova» èudne, v¾dy pomô¾e __Session -> Restart R__, prièom si mô¾ete vybra», èo sa má sta» po re¹tarte.

Poïme to nakresli» poriadne. 

```{r}
plot(cars, xlab = "Speed [mph]", ylab = "Stopping distance [ft]", las = 1)
lines(lowess(cars$speed, cars$dist, f = 2/3, iter = 3), col = "red")
title(main="Stopping distance vs. initial speed")
```
__Úloha__: Kto netu¹í èo je *lowess*, èo spraví?

__Recept__: ståpce dátovej tabuµky sú data$<meno_stlpca>

Vyzerá to ako parabola, tak si to nakreslime v logaritmickej ¹kále:

```{r}
plot(cars, xlab = "Speed [mph]", ylab = "Stopping distance [ft]", las = 1, log = "xy")
lines(lowess(cars$speed, cars$dist, f = 2/3, iter = 3), col = "red")
title(main="Stopping distance vs. initial speed, log-log scale")
```
__Úloha__: Funguje slovenská diakritika? Skúste posloveneèi» popisy osí.

```{r}
plot(cars, xlab = "Poèiatoèná rýchlos» [míle / hod]", ylab = "Brzdná dráha [stopy]", las = 1, log = "xy")
lines(lowess(cars$speed, cars$dist, f = 2/3, iter = 3), col = "red")
title(main="Brzdná dráha v závislosti od poèiatoènej rýchlosti, log-log ¹kála")
```


Na¹a závislos» vyzerá ako priamka, tak skúsme dáta prelo¾i» priamkou. __POZOR__ zaèína ¹tatistika!

```{r}
fmL <- lm(log(dist) ~ log(speed), data = cars)
summary(fmL)
plot(fmL)
```
Máme tu kopu výstupov. 

Z textového výstupu vidíme, ¾e máme celkom dobrý model: \[d = e^{-0.73}v^{1.6}\]

*E3te vidíme, ¾e mô¾eme písa» aj vzorce v TeX-ovej notácii!*

Závereèným kliknutím na __Preview__ (alebo __Ctrl-Shift-K__) si zobrazíme výsledný dokument. 

__Úloha__: Vyhµadajte si na Googli v¹etko, èomu nerozumiete. Alebo sa spýtajte.

__Úloha__: Èo keby som vo výstupe nechcel R-kód? 

__Úloha__: Viem report vytlaèi» do pdf?


